model_list:
  # AWS Bedrock
  ##
  # Ohio Models
  ##
  - model_name: anthropic.claude.haiku
    # Added model_info for consistency and better error handling
    model_info:
      base_model: bedrock/us.anthropic.claude-3-haiku-20240307-v1:0
    litellm_params:
      model: bedrock/us.anthropic.claude-3-haiku-20240307-v1:0
      aws_region_name: us-east-2
      rpm: 800
      tpm: 600000
  - model_name: anthropic.claude.sonnet
    model_info:
      base_model: bedrock/us.anthropic.claude-3-5-sonnet-20241022-v2:0
    litellm_params:
      model: bedrock/us.anthropic.claude-3-5-sonnet-20241022-v2:0
      aws_region_name: us-east-2
      rpm: 100
      tpm: 800000
  - model_name: anthropic.claude.haiku
    model_info:
      base_model: bedrock/us.anthropic.claude-3-5-haiku-20241022-v1:0
    litellm_params:
      model: bedrock/us.anthropic.claude-3-5-haiku-20241022-v1:0
      aws_region_name: us-east-2
      rpm: 10
      tpm: 50000
  - model_name: anthropic.claude.sonnet
    model_info:
      base_model: bedrock/us.anthropic.claude-3-7-sonnet-20250219-v1:0
    litellm_params:
      model: bedrock/us.anthropic.claude-3-7-sonnet-20250219-v1:0
      aws_region_name: us-east-2
      rpm: 4
      tpm: 10000

  ##
  # Oregon Models
  ##
  - model_name: anthropic.claude.haiku
    model_info:
      base_model: bedrock/us.anthropic.claude-3-haiku-20240307-v1:0
    litellm_params:
      model: bedrock/us.anthropic.claude-3-haiku-20240307-v1:0
      aws_region_name: us-west-2
      rpm: 20
      tpm: 40000
  - model_name: anthropic.claude.haiku
    model_info:
      base_model: bedrock/us.anthropic.claude-3-5-haiku-20241022-v1:0
    litellm_params:
      model: bedrock/us.anthropic.claude-3-5-haiku-20241022-v1:0
      aws_region_name: us-west-2
      rpm: 20
      tpm: 40000
  - model_name: anthropic.claude.sonnet
    # Added model_info for consistency and maintainability
    model_info:
      base_model: bedrock/us.anthropic.claude-3-sonnet-20240229-v1:0
    litellm_params:
      model: bedrock/us.anthropic.claude-3-sonnet-20240229-v1:0
      aws_region_name: us-west-2
      rpm: 10
      tpm: 20000
  - model_name: anthropic.claude.sonnet
    model_info:
      base_model: bedrock/us.anthropic.claude-3-7-sonnet-20250219-v1:0
    litellm_params:
      model: bedrock/us.anthropic.claude-3-7-sonnet-20250219-v1:0
      aws_region_name: us-west-2
      rpm: 4
      tpm: 10000

  ##
  # Virginia Models
  ##
  - model_name: anthropic.claude.haiku
    model_info:
      base_model: bedrock/us.anthropic.claude-3-haiku-20240307-v1:0
    litellm_params:
      model: bedrock/us.anthropic.claude-3-haiku-20240307-v1:0
      aws_region_name: us-east-1
      rpm: 20
      tpm: 40000
  - model_name: anthropic.claude.haiku
    model_info:
      base_model: bedrock/us.anthropic.claude-3-5-haiku-20241022-v1:0
    litellm_params:
      model: bedrock/us.anthropic.claude-3-5-haiku-20241022-v1:0
      aws_region_name: us-east-1
      rpm: 20
      tpm: 40000
  - model_name: anthropic.claude.sonnet
    model_info:
      base_model: bedrock/us.anthropic.claude-3-7-sonnet-20250219-v1:0
    litellm_params:
      model: bedrock/us.anthropic.claude-3-7-sonnet-20250219-v1:0
      aws_region_name: us-east-1
      rpm: 4
      tpm: 10000

  # GCP Vertex
  - model_name: anthropic.claude.sonnet
    model_info:
      base_model: vertex_ai/claude-3-7-sonnet@20250219
    litellm_params:
      model: vertex_ai/claude-3-7-sonnet@20250219
      vertex_project: coder-vertex-demos
      vertex_location: europe-west1
      vertex_credentials: ${GCP_CRED_PATH}
      rpm: 280
      tpm: 1500000
  - model_name: anthropic.claude.sonnet
    model_info:
      base_model: vertex_ai/claude-3-7-sonnet@20250219
    litellm_params:
      model: vertex_ai/claude-3-7-sonnet@20250219
      vertex_project: coder-vertex-demos
      vertex_location: us-east5
      vertex_credentials: ${GCP_CRED_PATH}
      rpm: 385
      tpm: 2500000
  - model_name: anthropic.claude.haiku
    model_info:
      base_model: vertex_ai/claude-3-haiku@20240307
    litellm_params:
      model: vertex_ai/claude-3-haiku@20240307
      vertex_project: coder-vertex-demos
      vertex_location: europe-west1
      vertex_credentials: ${GCP_CRED_PATH}
      rpm: 370
      tpm: 907000
  - model_name: anthropic.claude.haiku
    model_info:
      base_model: vertex_ai/claude-3-haiku@20240307
    litellm_params:
      model: vertex_ai/claude-3-haiku@20240307
      vertex_project: coder-vertex-demos
      vertex_location: us-east5
      vertex_credentials: ${GCP_CRED_PATH}
      rpm: 1220
      tpm: 3000000
  - model_name: anthropic.claude.haiku
    model_info:
      base_model: vertex_ai/claude-3-haiku@20240307
    litellm_params:
      model: vertex_ai/claude-3-haiku@20240307
      vertex_project: coder-vertex-demos
      vertex_location: us-central1
      vertex_credentials: ${GCP_CRED_PATH}
      rpm: 1220
      tpm: 3000000
  - model_name: anthropic.claude.sonnet
    model_info:
      base_model: vertex_ai/claude-3-5-sonnet@20240620
    litellm_params:
      model: vertex_ai/claude-3-5-sonnet@20240620
      vertex_project: coder-vertex-demos
      vertex_location: europe-west1
      vertex_credentials: ${GCP_CRED_PATH}
      rpm: 650
      tpm: 3000000
  - model_name: anthropic.claude.sonnet
    model_info:
      base_model: vertex_ai/claude-3-5-sonnet@20240620
    litellm_params:
      model: vertex_ai/claude-3-5-sonnet@20240620
      vertex_project: coder-vertex-demos
      vertex_location: us-east5
      vertex_credentials: ${GCP_CRED_PATH}
      rpm: 600
      tpm: 2775000
  - model_name: anthropic.claude.sonnet
    model_info:
      base_model: vertex_ai/claude-3-5-sonnet-v2@20241022
    litellm_params:
      model: vertex_ai/claude-3-5-sonnet-v2@20241022
      vertex_project: coder-vertex-demos
      vertex_location: europe-west1
      vertex_credentials: ${GCP_CRED_PATH}
      rpm: 275
      tpm: 1670000
  - model_name: anthropic.claude.sonnet
    model_info:
      base_model: vertex_ai/claude-3-5-sonnet-v2@20241022
    litellm_params:
      model: vertex_ai/claude-3-5-sonnet-v2@20241022
      vertex_project: coder-vertex-demos
      vertex_location: us-east5
      vertex_credentials: ${GCP_CRED_PATH}
      rpm: 450
      tpm: 2720000

litellm_settings:
  num_retries: 2
  request_timeout: 45
  allowed_fails: 3
  cooldown_time: 30
  set_verbose: true
  json_logs: false
  cache: true
  callbacks:
    - strip_header_middleware.strip_header_callback

general_settings:
  store_model_in_db: true
  store_prompts_in_spend_logs: true
  proxy_batch_write_at: 60
  database_connection_pool_limit: 10

  disable_error_logs: true
  allow_requests_on_db_unavailable: true

router_settings:
  routing_strategy: usage-based-routing-v2
  num_retries: 2
  # Redis configuration with environment variable references for secure credential management
  redis_host: os.environ/REDIS_HOST
  redis_password: os.environ/REDIS_PASSWORD
  redis_port: os.environ/REDIS_PORT
  redis_ssl: os.environ/REDIS_SSL
  timeout: 30
  # Added fallback behavior for better error handling
  fallback_to_local_cache: true
